{{!
Declares hst:hosts configuration for all sites except mygov.
Nodes in this file depend on parent nodes declared in roots.yaml.
}}# This file is{{! not }} autogenerated.
definitions:
  config:
{{#sites}}
    /hst:hst/hst:hosts/dev-localhost/localhost/hst:root/{{id}}:
      .meta:residual-child-node-category: content
      jcr:primaryType: hst:mount
      hst:alias: {{id}}
      hst:mountpoint: /hst:publishing/hst:sites/{{mount}}
      hst:locale: en_GB
    /hst:hst/hst:hosts/dev-localhost/localhost/hst:root/{{id}}-preview:
      .meta:residual-child-node-category: content
      jcr:primaryType: hst:mount
      hst:alias: {{id}}-staging
      hst:mountpoint: /hst:publishing/hst:sites/{{mount}}
      hst:type: preview
      preview-cookie-httponly: 'false'
      preview-cookie-secure: 'false'
      hst:locale: en_GB
{{#reverse_slash_dns}}
{{#environments}}
    /hst:hst/hst:hosts/{{name}}/{{reverse_slash_dns}}:
      jcr:primaryType: hst:virtualhost
      /{{name}}:
        jcr:primaryType: hst:virtualhost
        /hst:root:
          jcr:primaryType: hst:mount
          hst:alias: {{id}}
          hst:mountpoint: /hst:publishing/hst:sites/{{mount}}
          hst:schemeagnostic: true
          publishing:gtm: /content/documents/{{mount}}/administration/performance/analytics/{{gtm}}
          hst:locale: en_GB
{{/environments}}
    /hst:hst/hst:hosts/production/{{reverse_slash_dns}}:
      jcr:primaryType: hst:virtualhost
      /hst:root:
        jcr:primaryType: hst:mount
        hst:alias: {{id}}
        hst:mountpoint: /hst:publishing/hst:sites/{{mount}}
        hst:schemeagnostic: true
        publishing:gtm: /content/documents/{{mount}}/administration/analytics/live
        hst:locale: en_GB
{{/reverse_slash_dns}}

{{/sites}}
